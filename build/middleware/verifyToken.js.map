{"version":3,"file":"verifyToken.js","names":["_jsonwebtoken","_interopRequireDefault","require","obj","__esModule","default","verifyToken","req","res","next","authHeader","headers","token","split","status","send","jwt","verify","process","env","ACCESS_TOKEN_SECRET","err","decoded","user_name","_default","exports"],"sources":["../../server/middleware/verifyToken.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\r\n\r\nconst verifyToken = (req, res, next) => {\r\n  const authHeader = req.headers[\"authorization\"];\r\n  const token = authHeader && authHeader.split(\" \")[1];\r\n\r\n  if (token == null) {\r\n    return res.status(401).send(\"A token is required for authentication\");\r\n  }\r\n\r\n  jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, decoded) => {\r\n    if (err) return res.status(403).send(\"Invalid Token\");\r\n    req.user_name = decoded.user_name;\r\n    next();\r\n  });\r\n};\r\n\r\nexport default verifyToken;\r\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,WAAW,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACtC,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAO,CAAC,eAAe,CAAC;EAC/C,MAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAEpD,IAAID,KAAK,IAAI,IAAI,EAAE;IACjB,OAAOJ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,wCAAwC,CAAC;EACvE;EAEAC,qBAAG,CAACC,MAAM,CAACL,KAAK,EAAEM,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAAE,CAACC,GAAG,EAAEC,OAAO,KAAK;IACnE,IAAID,GAAG,EAAE,OAAOb,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,eAAe,CAAC;IACrDR,GAAG,CAACgB,SAAS,GAAGD,OAAO,CAACC,SAAS;IACjCd,IAAI,EAAE;EACR,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAe,QAAA,GAEalB,WAAW;AAAAmB,OAAA,CAAApB,OAAA,GAAAmB,QAAA"}