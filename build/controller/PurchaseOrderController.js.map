{"version":3,"file":"PurchaseOrderController.js","names":["_db","_interopRequireDefault","require","_parseJwt","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","PurchaseOrderController","exports","req","respon","knex","raw","data","rows","status","json","error","message","nomor_po","params"],"sources":["../../server/controller/PurchaseOrderController.js"],"sourcesContent":["import knex from \"../config/db.js\";\r\nimport parseJwt from \"../helpers/parseJwt.js\";\r\n\r\nexport default class PurchaseOrderController {\r\n  static getPurchaseOrder = async (req, res) => {\r\n    try {\r\n      const respon = await knex.raw(\r\n        `select * from mims_master.vw_pabrikan_monitoring_purchase_order vo order by po_mp_no desc`\r\n      );\r\n\r\n      const data = respon.rows;\r\n\r\n      return res.status(200).json({ data });\r\n    } catch (error) {\r\n      return res.status(400).json({ data: error.message });\r\n    }\r\n  };\r\n\r\n  static getPurchaseOrderDetail = async (req, res) => {\r\n    const { nomor_po } = req.params;\r\n    try {\r\n      const respon = await knex.raw(\r\n        `select * from mims_master.vw_pabrikan_monitoring_purchase_order_detail vo where vo.po_mp_no ='${nomor_po}' order by po_mp_no desc`\r\n      );\r\n\r\n      const data = respon.rows;\r\n\r\n      return res.status(200).json({ data });\r\n    } catch (error) {\r\n      return res.status(400).json({ data: error.message });\r\n    }\r\n  };\r\n}\r\n"],"mappings":";;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,gBAAAH,GAAA,EAAAI,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAJ,GAAA,IAAAO,MAAA,CAAAC,cAAA,CAAAR,GAAA,EAAAI,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAX,GAAA,CAAAI,GAAA,IAAAC,KAAA,WAAAL,GAAA;AAAA,SAAAM,eAAAM,GAAA,QAAAR,GAAA,GAAAS,YAAA,CAAAD,GAAA,2BAAAR,GAAA,gBAAAA,GAAA,GAAAU,MAAA,CAAAV,GAAA;AAAA,SAAAS,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;AAE/B,MAAMU,uBAAuB,CAAC;AA6B5CC,OAAA,CAAAxB,OAAA,GAAAuB,uBAAA;AAAAtB,eAAA,CA7BoBsB,uBAAuB,sBAChB,OAAOE,GAAG,EAAEN,GAAG,KAAK;EAC5C,IAAI;IACF,MAAMO,MAAM,GAAG,MAAMC,WAAI,CAACC,GAAG,CAC1B,2FAA0F,CAC5F;IAED,MAAMC,IAAI,GAAGH,MAAM,CAACI,IAAI;IAExB,OAAOX,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH;IAAK,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,OAAOd,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,IAAI,EAAEI,KAAK,CAACC;IAAQ,CAAC,CAAC;EACtD;AACF,CAAC;AAAAjC,eAAA,CAbkBsB,uBAAuB,4BAeV,OAAOE,GAAG,EAAEN,GAAG,KAAK;EAClD,MAAM;IAAEgB;EAAS,CAAC,GAAGV,GAAG,CAACW,MAAM;EAC/B,IAAI;IACF,MAAMV,MAAM,GAAG,MAAMC,WAAI,CAACC,GAAG,CAC1B,iGAAgGO,QAAS,0BAAyB,CACpI;IAED,MAAMN,IAAI,GAAGH,MAAM,CAACI,IAAI;IAExB,OAAOX,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH;IAAK,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,OAAOd,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,IAAI,EAAEI,KAAK,CAACC;IAAQ,CAAC,CAAC;EACtD;AACF,CAAC"}